import React from 'react';
import { ipcRenderer } from 'electron';

import LogoIcon from '../components/ui/LogoIcon';

import '../../public/styles/Titlebar.postcss';

export default class Titlebar extends React.PureComponent {
    state = {
        maximized: false
    };

    componentDidMount = () => {
        ipcRenderer.on('on-window-unmaximize', () => {
            this.setState({ maximized: false });
        });

        ipcRenderer.on('on-window-maximize', () => {
            this.setState({ maximized: true });
        });
    };

    close = () => {
        ipcRenderer.send('window-close');
    };

    minimize = () => {
        ipcRenderer.send('window-minimize');
    };

    maximize = () => {
        ipcRenderer.send('window-maximize');
    };

    unmaximize = () => {
        ipcRenderer.send('window-unmaximize');
    };

    render = () => {
        const { dark, toggleInfo, toggleDark } = this.props;

        return (
            <div className={`titlebar ${dark ? 'dark' : ''}`}>
                <img src="../icons/Logo-ProxyScrape-colored.png" width="120" height="15.25"/>
                {/*<LogoIcon/>*/}
                {/*<span className="title">ProxyScrape</span>*/}
                {/*<div className="misc">
                    <ul className="buttons">
                        <li onClick={toggleInfo} title="Toggle Info">
                            <svg viewBox="0 0 522.468 522.469">
                                <path d="M325.762,70.513l-17.706-4.854c-2.279-0.76-4.524-0.521-6.707,0.715c-2.19,1.237-3.669,3.094-4.429,5.568L190.426,440.53    c-0.76,2.475-0.522,4.809,0.715,6.995c1.237,2.19,3.09,3.665,5.568,4.425l17.701,4.856c2.284,0.766,4.521,0.526,6.71-0.712    c2.19-1.243,3.666-3.094,4.425-5.564L332.042,81.936c0.759-2.474,0.523-4.808-0.716-6.999    C330.088,72.747,328.237,71.272,325.762,70.513z" />
                                <path d="M166.167,142.465c0-2.474-0.953-4.665-2.856-6.567l-14.277-14.276c-1.903-1.903-4.093-2.857-6.567-2.857    s-4.665,0.955-6.567,2.857L2.856,254.666C0.95,256.569,0,258.759,0,261.233c0,2.474,0.953,4.664,2.856,6.566l133.043,133.044    c1.902,1.906,4.089,2.854,6.567,2.854s4.665-0.951,6.567-2.854l14.277-14.268c1.903-1.902,2.856-4.093,2.856-6.57    c0-2.471-0.953-4.661-2.856-6.563L51.107,261.233l112.204-112.201C165.217,147.13,166.167,144.939,166.167,142.465z" />
                                <path d="M519.614,254.663L386.567,121.619c-1.902-1.902-4.093-2.857-6.563-2.857c-2.478,0-4.661,0.955-6.57,2.857l-14.271,14.275    c-1.902,1.903-2.851,4.09-2.851,6.567s0.948,4.665,2.851,6.567l112.206,112.204L359.163,373.442    c-1.902,1.902-2.851,4.093-2.851,6.563c0,2.478,0.948,4.668,2.851,6.57l14.271,14.268c1.909,1.906,4.093,2.854,6.57,2.854    c2.471,0,4.661-0.951,6.563-2.854L519.614,267.8c1.903-1.902,2.854-4.096,2.854-6.57    C522.468,258.755,521.517,256.565,519.614,254.663z" />
                            </svg>
                        </li>
                        <li onClick={toggleDark} title="Toggle Dark Mode">
                            {dark ? (
                                <svg viewBox="0 0 383.186 383.186">
                                    <path d="M226.704,124.057c-1.74-1.39-3.939-2.075-6.16-1.92h-33.84l31.6-35.28l2.96-3.28l1.92-2.32    c0.527-0.742,0.957-1.549,1.28-2.4c0.363-0.917,0.552-1.894,0.56-2.88c0.223-2.333-0.933-4.583-2.96-5.76    c-2.63-1.203-5.512-1.752-8.4-1.6h-39.68c-2.096-0.143-4.172,0.483-5.84,1.76c-1.378,1.173-2.145,2.911-2.08,4.72    c0,2.72,0.88,4.32,2.72,4.96c2.6,0.736,5.3,1.06,8,0.96h25.6c-1.067,1.493-2.48,3.253-4.24,5.28l-6.64,7.52l-8.64,9.6    l-10.32,11.44c-3.6,4-5.92,6.72-7.04,8c-2.54,3.085-2.224,7.618,0.72,10.32c2.118,1.713,4.801,2.57,7.52,2.4h46.72    c2.235,0.175,4.457-0.48,6.24-1.84c1.359-1.187,2.121-2.916,2.08-4.72C228.853,127.138,228.092,125.324,226.704,124.057z" />
                                    <path d="M297.264,164.296c-1.4-1.12-3.173-1.663-4.96-1.52h-26.88l25.2-28.16l2.4-2.64l1.52-1.84    c0.427-0.593,0.777-1.238,1.04-1.92c0.299-0.738,0.462-1.524,0.48-2.32c0.201-1.867-0.706-3.68-2.32-4.64    c-2.103-0.966-4.409-1.406-6.72-1.28h-31.36c-1.669-0.093-3.317,0.418-4.64,1.44c-1.106,0.93-1.725,2.316-1.68,3.76    c0,2.16,0.72,3.44,2.16,4c2.077,0.608,4.238,0.879,6.4,0.8h20.16c-0.88,1.2-2,2.56-3.36,4.24l-5.28,6l-6.88,8l-8,9.12    c-2.88,3.2-4.773,5.387-5.68,6.56c-1.885,2.418-1.643,5.868,0.56,8c1.657,1.155,3.667,1.693,5.68,1.52h37.28    c1.774,0.142,3.538-0.37,4.96-1.44c1.058-0.959,1.642-2.333,1.6-3.76C298.981,166.728,298.368,165.297,297.264,164.296z" />
                                    <path d="M381.104,119.577c-1.74-1.39-3.939-2.075-6.16-1.92h-33.76l31.6-35.28l2.88-3.6l1.92-2.32    c0.525-0.744,0.955-1.55,1.28-2.4c0.363-0.917,0.552-1.894,0.56-2.88c0.223-2.333-0.933-4.583-2.96-5.76    c-2.73-1.348-5.758-1.981-8.8-1.84h-39.2c-2.096-0.143-4.172,0.483-5.84,1.76c-1.378,1.173-2.145,2.911-2.08,4.72    c0,2.72,0.88,4.32,2.72,4.96c2.6,0.735,5.3,1.059,8,0.96h25.6c-1.067,1.493-2.453,3.253-4.16,5.28l-6.64,7.52l-8.64,9.6    l-10.32,11.44c-3.6,4-5.92,6.72-7.04,8c-1.043,1.265-1.635,2.841-1.68,4.48c-0.107,2.206,0.773,4.346,2.4,5.84    c2.11,1.59,4.726,2.357,7.36,2.16h46.72c2.235,0.175,4.457-0.48,6.24-1.84c1.359-1.187,2.121-2.916,2.08-4.72    C383.037,122.138,382.295,120.653,381.104,119.577z" />
                                    <path d="M351.132,252.524c-2.05-0.97-4.416-1.023-6.508-0.148h0.08c-86.719,35.869-186.096-5.353-221.965-92.072    c-18.193-43.985-17.103-93.585,3.005-136.728c1.889-3.994,0.182-8.763-3.812-10.652c-2.05-0.97-4.416-1.023-6.508-0.148    C20.363,51.826-25.044,160.544,14.005,255.605c39.049,95.061,147.767,140.468,242.829,101.419    c43.356-17.81,78.394-51.325,98.111-93.848C356.833,259.182,355.126,254.413,351.132,252.524z" />
                                </svg>
                            ) : (
                                <svg viewBox="0 0 129 129">
                                    <path d="M64.5 92.6c15.5 0 28-12.6 28-28s-12.6-28-28-28-28 12.6-28 28 12.5 28 28 28zm0-47.9c11 0 19.9 8.9 19.9 19.9 0 11-8.9 19.9-19.9 19.9s-19.9-8.9-19.9-19.9c0-11 8.9-19.9 19.9-19.9zM68.6 23.6V10.7c0-2.3-1.8-4.1-4.1-4.1s-4.1 1.8-4.1 4.1v12.9c0 2.3 1.8 4.1 4.1 4.1s4.1-1.8 4.1-4.1zM60.4 105.6v12.9c0 2.3 1.8 4.1 4.1 4.1s4.1-1.8 4.1-4.1v-12.9c0-2.3-1.8-4.1-4.1-4.1s-4.1 1.8-4.1 4.1zM96.4 38.5l9.1-9.1c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8 0l-9.1 9.1c-1.6 1.6-1.6 4.2 0 5.8.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2zM23.5 105.6c.8.8 1.8 1.2 2.9 1.2 1 0 2.1-.4 2.9-1.2l9.1-9.1c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8 0l-9.1 9.1c-1.6 1.6-1.6 4.2 0 5.8zM122.5 64.6c0-2.3-1.8-4.1-4.1-4.1h-12.9c-2.3 0-4.1 1.8-4.1 4.1s1.8 4.1 4.1 4.1h12.9c2.2 0 4.1-1.8 4.1-4.1zM10.6 68.7h12.9c2.3 0 4.1-1.8 4.1-4.1s-1.8-4.1-4.1-4.1H10.6c-2.3 0-4.1 1.8-4.1 4.1s1.9 4.1 4.1 4.1zM102.6 106.8c1 0 2.1-.4 2.9-1.2 1.6-1.6 1.6-4.2 0-5.8l-9.1-9.1c-1.6-1.6-4.2-1.6-5.8 0-1.6 1.6-1.6 4.2 0 5.8l9.1 9.1c.8.8 1.9 1.2 2.9 1.2zM38.4 38.5c1.6-1.6 1.6-4.2 0-5.8l-9.1-9.1c-1.6-1.6-4.2-1.6-5.8 0-1.6 1.6-1.6 4.2 0 5.8l9.1 9.1c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2z"></path>
                                </svg>
                            )}
                        </li>
                    </ul>
                </div>*/}
                <ul className="buttons">
                    <li onClick={this.minimize}>
                        <svg viewBox="0 0 512 512" className="minimize">
                            <path d="M471.695 411.923v47.823a6.913 6.913 0 0 1-6.913 6.913H47.217a6.913 6.913 0 0 1-6.913-6.913v-47.823a6.913 6.913 0 0 1 6.913-6.913h417.566a6.913 6.913 0 0 1 6.912 6.913z" />
                        </svg>
                    </li>
                    {this.state.maximized ? (
                        <li onClick={this.unmaximize}>
                            <svg viewBox="0 0 294.834 294.834">
                                <path d="M288.834,0H47.413c-3.313,0-6,2.687-6,6v17.398c0,3.313,2.687,6,6,6s6-2.687,6-6V12h229.421v229.421h-11.398   c-3.313,0-6,2.687-6,6s2.687,6,6,6h17.398c3.313,0,6-2.687,6-6V6C294.834,2.687,292.147,0,288.834,0z" />
                                <path d="M247.421,41.413H6c-3.313,0-6,2.687-6,6v241.421c0,3.313,2.687,6,6,6h241.421c3.313,0,6-2.687,6-6V47.413   C253.421,44.1,250.734,41.413,247.421,41.413z M241.421,282.834H12V53.413h229.421V282.834z" />
                            </svg>
                        </li>
                    ) : (
                        <li onClick={this.maximize}>
                            <svg viewBox="0 0 448 448">
                                <path d="m144 0h-144v144h16v-128h128zm0 0" />
                                <path d="m432 144h16v-144h-144v16h128zm0 0" />
                                <path d="m16 304h-16v144h144v-16h-128zm0 0" />
                                <path d="m448 304h-16v128h-128v16h144zm0 0" />
                            </svg>
                        </li>
                    )}
                    <li onClick={this.close}>
                        <svg viewBox="0 0 224.512 224.512">
                            <polygon points="224.507,6.997 217.521,0 112.256,105.258 6.998,0 0.005,6.997 105.263,112.254    0.005,217.512 6.998,224.512 112.256,119.24 217.521,224.512 224.507,217.512 119.249,112.254  " />
                        </svg>
                    </li>
                </ul>
            </div>
        );
    };
}
